<header class="header">
  <nav class="navbar">
    <div class="container">
      <div class="nav-brand">
        <a routerLink="/home" class="brand-link">
          <span class="brand-icon">🏠</span>
          <span class="brand-text">ShelterHub</span>
          <span class="brand-subtitle">Admin Dashboard</span>
        </a>
      </div>

      <div class="nav-menu" [class.nav-menu-open]="isMenuOpen">
        <ul class="nav-links">
          <li class="nav-item">
            <a routerLink="/home" class="nav-link" (click)="closeMenu()">
              <span class="nav-icon">🏠</span>
              Dashboard
            </a>
          </li>

          <!-- Management Dropdown -->
          <li
            class="nav-item dropdown"
            [class.dropdown-open]="isManagementDropdownOpen"
          >
            <button
              class="nav-link dropdown-toggle"
              (click)="toggleManagementDropdown()"
              [attr.aria-expanded]="isManagementDropdownOpen"
            >
              <span class="nav-icon">🐕</span>
              Management
              <span class="dropdown-arrow">▼</span>
            </button>
            <ul class="dropdown-menu" *ngIf="isManagementDropdownOpen">
              <li>
                <a
                  routerLink="/pets"
                  class="dropdown-link"
                  (click)="closeMenu()"
                >
                  <span class="dropdown-icon">🐕</span>
                  Manage Pets
                </a>
              </li>
              <li>
                <a
                  routerLink="/applications"
                  class="dropdown-link"
                  (click)="closeMenu()"
                >
                  <span class="dropdown-icon">📋</span>
                  Applications
                </a>
              </li>
              <li>
                <a
                  routerLink="/adoptions"
                  class="dropdown-link"
                  (click)="closeMenu()"
                >
                  <span class="dropdown-icon">❤️</span>
                  Adoptions
                </a>
              </li>
            </ul>
          </li>

          <!-- Reports & Analytics Dropdown -->
          <li
            class="nav-item dropdown"
            [class.dropdown-open]="isReportsDropdownOpen"
          >
            <button
              class="nav-link dropdown-toggle"
              (click)="toggleReportsDropdown()"
              [attr.aria-expanded]="isReportsDropdownOpen"
            >
              <span class="nav-icon">�</span>
              Reports
              <span class="dropdown-arrow">▼</span>
            </button>
            <ul class="dropdown-menu" *ngIf="isReportsDropdownOpen">
              <li>
                <a
                  routerLink="/reports"
                  class="dropdown-link"
                  (click)="closeMenu()"
                >
                  <span class="dropdown-icon">📊</span>
                  Analytics
                </a>
              </li>
              <li>
                <a
                  routerLink="/reports/adoptions"
                  class="dropdown-link"
                  (click)="closeMenu()"
                >
                  <span class="dropdown-icon">📈</span>
                  Adoption Reports
                </a>
              </li>
              <li>
                <a
                  routerLink="/reports/pets"
                  class="dropdown-link"
                  (click)="closeMenu()"
                >
                  <span class="dropdown-icon">�</span>
                  Pet Reports
                </a>
              </li>
            </ul>
          </li>

          <li class="nav-item">
            <a routerLink="/settings" class="nav-link" (click)="closeMenu()">
              <span class="nav-icon">⚙️</span>
              Settings
            </a>
          </li>
        </ul>

        <div class="nav-actions">
          <!-- Show different actions based on authentication status -->
          <ng-container *ngIf="isAuthenticated$ | async as authStatus">
            <ng-container
              *ngIf="authStatus.isAuthenticated; else notAuthenticated"
            >
              <!-- Authenticated admin actions -->
              <div class="admin-menu" *ngIf="currentUser$ | async as user">
                <div class="admin-info">
                  <span class="admin-role">Admin</span>
                  <span class="admin-name">{{
                    user.fullName.split(" ")[0]
                  }}</span>
                </div>
                <div class="admin-actions">
                  <button
                    class="btn btn-outline btn-small"
                    (click)="onAddPet(); closeMenu()"
                  >
                    <span class="btn-icon">➕</span>
                    <span class="btn-text">Add Pet</span>
                  </button>
                  <button
                    class="btn btn-secondary btn-small"
                    (click)="onRunMatching(); closeMenu()"
                  >
                    <span class="btn-icon">🎯</span>
                    <span class="btn-text">Run Match</span>
                  </button>
                  <button
                    class="btn btn-outline btn-small"
                    (click)="onLogout(); closeMenu()"
                  >
                    <span class="btn-icon">🚪</span>
                    <span class="btn-text">Logout</span>
                  </button>
                </div>
              </div>
            </ng-container>
            <ng-template #notAuthenticated>
              <!-- Not authenticated actions -->
              <button class="btn btn-outline" (click)="onLogin(); closeMenu()">
                Admin Sign In
              </button>
            </ng-template>
          </ng-container>
        </div>
      </div>

      <button
        class="mobile-menu-toggle"
        (click)="toggleMenu()"
        [attr.aria-expanded]="isMenuOpen"
      >
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
      </button>
    </div>
  </nav>
</header>
