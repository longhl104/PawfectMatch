<p-menubar [model]="menuItems" class="surface-primary-500">
  <ng-template pTemplate="start">
    <div class="flex align-items-center gap-3 mr-4">
      <i class="pi pi-home text-white text-2xl"></i>
      <div class="flex flex-column">
        <span class="text-white font-bold text-xl">ShelterHub</span>
        <span class="text-white text-sm opacity-80">Admin Dashboard</span>
      </div>
    </div>
  </ng-template>

  <ng-template pTemplate="end">
    <div class="flex align-items-center gap-3">
      <ng-container *ngIf="isAuthenticated$ | async as authStatus">
        <ng-container *ngIf="authStatus.isAuthenticated && (currentUser$ | async) as user; else notAuthenticated">
          <!-- Authenticated admin actions -->
          <p-button
            icon="pi pi-plus"
            label="Add Pet"
            size="small"
            severity="success"
            [raised]="true"
            (onClick)="onAddPet()">
          </p-button>

          <p-button
            icon="pi pi-search"
            label="Run Match"
            size="small"
            severity="warn"
            [raised]="true"
            (onClick)="onRunMatching()">
          </p-button>

          <div class="flex align-items-center gap-2 ml-3">
            <p-avatar
              [label]="user.fullName.split(' ')[0][0] + (user.fullName.split(' ')[1] || '')[0]"
              styleClass="bg-white text-primary"
              size="normal">
            </p-avatar>
            <div class="flex flex-column text-white hidden md:block">
              <span class="text-sm font-bold">{{ user.fullName.split(' ')[0] }}</span>
              <span class="text-xs opacity-80">Admin</span>
            </div>

            <p-button
              icon="pi pi-sign-out"
              severity="danger"
              [text]="true"
              size="small"
              pTooltip="Logout"
              (onClick)="onLogout()">
            </p-button>
          </div>
        </ng-container>

        <ng-template #notAuthenticated>
          <p-button
            label="Admin Sign In"
            icon="pi pi-sign-in"
            [outlined]="true"
            severity="info"
            (onClick)="onLogin()">
          </p-button>
        </ng-template>
      </ng-container>
    </div>
  </ng-template>
</p-menubar>
